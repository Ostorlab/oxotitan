<template>
  <v-card
    class="d-flex flex-column pa-3 vuln-details-page"
    variant="outlined"
  >
    <p
      class="text-h5 mb-2"
      style="font-size: 2rem; font-weight: 400"
    >
      <v-skeleton-loader
        v-if="loading === true"
        max-width="500"
        type="text@1"
      />
      <span v-else>{{ title }}</span>
    </p>
    <div class="d-flex align-center">
      <v-skeleton-loader
        v-if="loading === true"
        type="button"
        style="flex-grow: 1;"
      />
      <DfRisk
        v-else
        :risk="riskRating"
        class="mr-3"
      />
    </div>
  </v-card>
</template>

<script lang="ts">
import { DfRisk } from '~/dragonfly/components/Tags/DfRisk'
import type { RiskRatingEnum, Maybe } from '~/graphql/types'

export default defineComponent({
  name: 'VulnerabilityTitle',
  components: { DfRisk },
  props: {
    title: {
      type: String as () => Maybe<string> | undefined,
      required: true
    },
    riskRating: {
      type: String as () => Maybe<RiskRatingEnum>,
      default: null
    },
    loading: {
      type: Boolean,
      default: false
    }
  }
})
</script>

<style>
.vuln-details-page .v-skeleton-loader__bone {
  margin: 6px 4px !important;
}
</style>
